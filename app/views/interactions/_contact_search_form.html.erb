<%= form_with(url: search_path, method: :post, class: 'w-60',
    data: {
      controller: 'search',
      action: 'keyup -> search#suggestions',
      suggestions_url: search_suggestions_path,
          }
  ) do |form| %>

        <div class='relative'>
          <%= form.text_field :query, data: {
            search_target: 'input',
            action: 'blur -> search#hideSuggestions',
              },  class: "", 
                  placeholder: "Search...", 
                  autocomplete: "off" %>
          <div class="">
            <%= form.submit "Search", class: "" %>
          </div>
        </div>

        <div id="suggestions" class="" 
              data-search-target="suggestions"
              data-action="mousedown -> search#childClicked">

        <%= render partial: "search/suggestions", locals: {results: results} %>


<% end %>
